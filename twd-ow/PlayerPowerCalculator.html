<html>
	<head>
		<title>The Walking Dead: Our World - Player Power Calculator</title>
		
		<style>
			input { text-align: center; }
			.thin { width: 100px; }
			.wide { width: 200px; }
			.heading { font-size: 30; font-weight: bold; }
			.large { font-weight: bold; font-size: 20; }
			.red { border:2px solid red; color: red; }
		</style>
		
		<script type="text/javascript">
			function getFormValue(id) {
				var value = parseFloat(document.getElementById(id).value);
				if (value !== value)
					value = 0;
				return value;
			}

			function setFormValue(id, value) {
				document.getElementById(id).value = value;
			}
			
			function calculatePlayerPower() {
				var heroPower2 = getFormValue("heroPower2");
				var heroPower3 = getFormValue("heroPower3");
				var heroPower4 = getFormValue("heroPower4");
				var heroPowerAverage = (heroPower2 + heroPower3 + heroPower4) / 3;
				
				var weaponPower2 = getFormValue("weaponPower2");
				var weaponPower3 = getFormValue("weaponPower3");
				var weaponPower4 = getFormValue("weaponPower4");
				var weaponPowerAverage = (weaponPower2 + weaponPower3 + weaponPower4) / 3;
				
				var totalPowerAverage = (heroPower2 + heroPower3 + heroPower4 + weaponPower2 + weaponPower3 + weaponPower4) / 6;
				var playerPower = (totalPowerAverage / 10) - 0.5;
				
				setFormValue("heroPowerAverage", parseFloat((heroPowerAverage).toFixed(2)));
				setFormValue("weaponPowerAverage", parseFloat((weaponPowerAverage).toFixed(2)));
				setFormValue("totalPowerAverage", parseFloat((totalPowerAverage).toFixed(2)));
				setFormValue("playerPower", Math.floor(playerPower));
				
				var i;
				var easyMissionRanges = [];
				for (i = -2; i <= 2; i++) {
					easyMissionRanges.push(Math.floor(playerPower + i));
				}
				setFormValue("easyMissionRange", easyMissionRanges.join(", "));
				setFormValue("hardMissionRange", easyMissionRanges[4] + 1 + "+");
			}
		</script>
	</head>
	
	<body>
		<form>
			<table>
				<tr>
					<td colspan="6" align="center" class="heading">The Walking Dead: Our World</td>
				</tr>
				<tr>
					<td colspan="6" align="center" class="heading">Player Power Calculator</td>
				</tr>
				<tr>
					<td colspan="6"><br></td>
				</tr>
				<tr>
					<td colspan="6" align="center"><input type="text" id="playerName" class="large"></td>
				</tr>
				<tr>
					<td colspan="6"><br></td>
				</tr>
				<tr>
					<th></th>
					<th class="thin">Top 1 (ignored)</th>
					<th class="thin">Top 2</th>
					<th class="thin">Top 3</th>
					<th class="thin">Top 4</th>
					<th class="thin">Average</th>
				</tr>
				<tr>
					<th align="right">Hero Power</th>
					<td><input class="thin" type="text" id="heroPower1"></td>
					<td><input class="thin" type="text" id="heroPower2"></td>
					<td><input class="thin" type="text" id="heroPower3"></td>
					<td><input class="thin" type="text" id="heroPower4"></td>
					<td><input class="thin" type="text" id="heroPowerAverage" disabled></td>
				</tr>
				<tr>
					<th align="right">Weapon Power</th>
					<td class="thin"><input class="thin" type="text" id="weaponPower1"></td>
					<td><input class="thin" type="text" id="weaponPower2"></td>
					<td><input class="thin" type="text" id="weaponPower3"></td>
					<td><input class="thin" type="text" id="weaponPower4"></td>
					<td><input class="thin" type="text" id="weaponPowerAverage" disabled></td>
				</tr>
				<tr>
					<td colspan="4"></td>
					<th align="right">Total</th>
					<td><input class="thin" type="text" id="totalPowerAverage" disabled></td>
				</tr>
				<tr>
					<td colspan="4"></td>
					<th align="right">Player Power</th>
					<td><input class="thin large red" type="text" id="playerPower" disabled></td>
				</tr>
				<tr>
					<td><br></td>
				</tr>
				<tr>
					<td></td>
					<th class="wide" colspan="2">Easy</th>
					<th class="wide" colspan="2">Hard</th>
				</tr>
				<tr>
					<th align="right">Mission Range</th>
					<td class="wide" colspan="2"><input class="wide large" type="text" id="easyMissionRange" disabled></td>
					<td class="wide" colspan="2"><input class="wide large" type="text" id="hardMissionRange" disabled></td>
					<td align="right"><button type="button" onclick="calculatePlayerPower()">Calculate</button></td>
				</tr>
			</table>
		</form>
	</body>
</html>

